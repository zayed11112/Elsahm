# دليل إدارة البانرات في تطبيق السهم

## مقدمة

يوفر تطبيق السهم واجهة لعرض البانرات في الصفحة الرئيسية. هذه البانرات يتم تخزينها في قاعدة بيانات Supabase وليست كصور ثابتة في التطبيق، مما يتيح تغييرها بسهولة دون الحاجة لتحديث التطبيق.

## هيكل جدول البانرات

جدول `banners` في قاعدة البيانات يحتوي على الحقول التالية:

| الحقل | النوع | الوصف |
|-------|------|--------|
| id | bigint | المعرف الفريد للبانر (يتم إنشاؤه تلقائيًا) |
| image_url | text | رابط الصورة الخاصة بالبانر (إلزامي) |
| order_index | int | ترتيب ظهور البانر (الأصغر يظهر أولًا) |
| title | text | عنوان البانر (اختياري) |
| description | text | وصف البانر (اختياري) |
| action_url | text | رابط الإجراء عند النقر على البانر (اختياري) |
| is_active | boolean | حالة نشاط البانر (نشط أو غير نشط) |
| created_at | timestamp | تاريخ إنشاء البانر (يتم ملؤه تلقائيًا) |
| updated_at | timestamp | تاريخ آخر تحديث للبانر (يتم تحديثه تلقائيًا) |

## كيفية إضافة بانر جديد

### عبر واجهة Supabase

1. قم بتسجيل الدخول إلى لوحة تحكم Supabase
2. انتقل إلى Table Editor
3. افتح جدول `banners`
4. انقر على "Insert Row" وأدخل البيانات المطلوبة:
   - `image_url`: رابط الصورة (يفضل أن تكون بأبعاد 1440×570 بكسل)
   - `order_index`: ترتيب الظهور
   - `title`: عنوان البانر (اختياري)
   - `description`: وصف البانر (اختياري)
   - `action_url`: رابط للنقر عليه (اختياري)
   - `is_active`: اجعله `true` للبانرات التي تريد ظهورها، و`false` لإخفاء البانر مؤقتًا

### عبر SQL

يمكنك إضافة بانر جديد من خلال SQL Editor في Supabase:

```sql
INSERT INTO banners (image_url, order_index, title, description, action_url, is_active)
VALUES (
  'https://example.com/path/to/banner.jpg',
  1,
  'عنوان البانر',
  'وصف البانر يظهر عند النقر على الصورة',
  'https://example.com/action',
  true
);
```

## تحميل صور البانر

لتحميل صور البانر، يمكنك استخدام خدمة Storage في Supabase:

1. انتقل إلى قسم Storage في لوحة تحكم Supabase
2. أنشئ bucket جديد إذا لم يكن موجودًا (مثال: `banners`)
3. قم بتحميل الصور إلى هذا الـ bucket
4. انسخ الرابط العام للصورة بعد التحميل
5. استخدم هذا الرابط في حقل `image_url` في جدول البانرات

مثال لرابط صورة في Storage:
```
https://cxntsoxkldjoblehmdpo.supabase.co/storage/v1/object/public/banners/banner1.jpg
```

## إرشادات تصميم البانرات

للحصول على أفضل مظهر للبانرات:

- استخدم صورًا بأبعاد 1440×570 بكسل
- احرص على أن تكون الصور ذات جودة عالية ولكن بحجم ملف معقول (أقل من 300 كيلوبايت)
- يفضل استخدام صيغة JPEG أو WebP لحجم أصغر
- تأكد من وضوح النص والعناصر المرئية على خلفيات مختلفة

## استكشاف الأخطاء وإصلاحها

إذا لم تظهر البانرات في التطبيق:

1. تأكد من أن البانرات نشطة (`is_active` = `true`)
2. تحقق من صحة روابط الصور
3. تأكد من أن الصور يمكن الوصول إليها عامة (public)
4. راجع سجلات خطأ التطبيق للمزيد من المعلومات

## توثيق واجهة برمجة التطبيق (API)

يوفر التطبيق خدمة `BannerService` للتعامل مع البانرات:

- `getBanners()`: جلب البانرات النشطة فقط
- `getAllBanners()`: جلب جميع البانرات بما في ذلك غير النشطة
- `addBanner()`: إضافة بانر جديد
- `updateBanner()`: تحديث بانر موجود
- `deleteBanner()`: حذف بانر 